<div class="row px-2" id="topTabDashboard"
    style="background-color: rgb(244, 244, 244); text-align: center; height: 12vh; padding-top: 1vh;">
    <div class="col-1" style="padding-top: 0.5rem;"> <img style="max-height: 3rem;" class="img-fluid"
            src="./assets/SLogo.png" alt="Logo"></div>
    <div class="col" style="padding-top: 0.3rem; ">
        <h1 class=" " style="color: rgb(0, 0, 0); font-family: 'MontserratItalic';">Squealer SMM
        </h1>

    </div>
    <div class="col-1" style="padding-top: 1.2rem; color: rgb(0, 0, 0);"><mat-icon>shopping_cart</mat-icon></div>
    <div class="col-1" style="padding-top: 0.5rem; padding-bottom: 0.5rem;">
        <div class="btn-group" dropdown>
            <button id="button-animated" dropdownToggle type="button" class="btn btn-outline-dark dropdown-toggle"
                aria-controls="dropdown-animated">
                <mat-icon>group</mat-icon> <span class="caret"></span> <span class="caret"></span>
            </button>
            <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu" role="menu"
                aria-labelledby="button-animated">
                <!-- Utilizza *ngIf per verificare se users$ è definito prima di utilizzarlo -->
                <!-- 
                    users$ è un observable, che rappresenta una sequenza asincrona di dati. 
                    Angular usa | async per sottoscriversi all'observable e 
                    gestire automaticamente la sua sottoscrizione e il rilascio quando i dati arrivano o cambiano. 
                    In sostanza, async si prende cura della gestione dell'observable in modo asincrono.

                    as users assegna il risultato dell'observable sottoscritto a una variabile locale chiamata users. 
                    In questo modo, la variabile users conterrà i dati effettivi quando l'observable restituirà un valore.

                    *ngIf="users$ | async as users" è una tecnica comune per gestire dati asincroni in Angular.
                     Utilizza l'observable users$, attende il suo completamento e assegna i dati a una variabile users, 
                    consentendo quindi di utilizzare i dati in modo sincrono all'interno del blocco ng-container solo quando sono pronti.
                -->
                <ng-container *ngIf="users$ | async as users">
                    <!-- Utilizza *ngFor per iterare sugli utenti -->
                    <ng-container *ngFor="let user of users">
                        <app-user-item [userProfileImage]="user.profileImage"
                            [username]="user.username"></app-user-item>
                    </ng-container>
                </ng-container>
            </ul>
        </div>
    </div>

    <!-- content puo essere sia il testo dello squeal che l'url dell'immagine -->

    <div *ngIf="(posts$ | async) as posts">
        <div *ngFor="let post of posts">
            <app-post [postTitle]="post.title" [content]="post.image ? post.image : post.text"
                [isImage]="post.image !== undefined"></app-post>
        </div>
    </div>


</div>